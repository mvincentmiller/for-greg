{"version":3,"sources":["styles/AccountInfo.module.scss","components/Account/EditPassword.js"],"names":["module","exports","EditPassword","observer","props","store","useContext","AccountStore","useState","newPassword","setNewPassword","passwordConfirm","setPasswordConfirm","renderForm","setRenderForm","handleChange","event","target","id","value","preventDefault","handleSubmit","a","setPassword","className","onClick","poochInput","type","placeholder","onChange","href","disabled","length"],"mappings":"oHACAA,EAAOC,QAAU,CAAC,kBAAoB,uCAAuC,qBAAuB,0CAA0C,wBAA0B,6CAA6C,KAAO,0BAA0B,WAAa,gCAAgC,YAAc,iCAAiC,oBAAsB,yCAAyC,cAAgB,qC,gKCYpZC,EAAeC,aAAS,SAAAC,GACnC,IAAMC,EAAQC,qBAAWC,KADmB,EAINC,mBAAS,IAJH,mBAIrCC,EAJqC,KAIxBC,EAJwB,OAKEF,mBAAS,IALX,mBAKrCG,EALqC,KAKpBC,EALoB,OAMRJ,oBAAS,GAND,mBAMrCK,EANqC,KAMzBC,EANyB,KAgBtCC,EAAe,SAAAC,GACK,iBAApBA,EAAMC,OAAOC,GACfR,EAAeM,EAAMC,OAAOE,OACC,wBAApBH,EAAMC,OAAOC,GACtBN,EAAmBI,EAAMC,OAAOE,OACH,mBAApBH,EAAMC,OAAOC,KACtBF,EAAMI,iBACNN,GAAeD,KAIbQ,EAAY,uCAAG,WAAML,GAAN,SAAAM,EAAA,6DACnBN,EAAMI,iBADa,SAEbf,EAAMkB,YAAYd,GAFL,OAGnBK,GAAc,GAHK,2CAAH,sDAOlB,OACE,8BACID,GACA,4BAAQW,UAAU,OAAOC,QAASV,EAAcG,GAAG,kBAChD,IADH,mBAKDL,GACC,6BACE,yBAAKW,UAAU,SACb,uBAAGA,UAAU,WACX,2BACEA,UAAW,SAAWE,aACtBC,KAAK,WACLT,GAAG,eACHU,YAAY,eACZC,SAAUd,MAIhB,yBAAKS,UAAU,SACb,uBAAGA,UAAU,WACX,2BACEA,UAAW,SAAWE,aACtBC,KAAK,WACLT,GAAG,sBACHU,YAAY,oBACZC,SAAUd,KAGd,+BAEF,yBAAKS,UAAU,oBACb,uBAAGA,UAAU,uBAEX,4BACEM,KAAK,IACLN,UAAU,cACVC,QAASV,EACTG,GAAG,kBAJL,WASF,uBAAGM,UAAU,WACX,4BACEA,UAAU,oBACVO,WAxEVtB,IAAgBE,GACO,IAAvBF,EAAYuB,QACe,IAA3BrB,EAAgBqB,QAuENL,KAAK,SACLF,QAASJ,GAJX","file":"static/js/32.2d27c7b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"accountPageHeader\":\"AccountInfo_accountPageHeader__3PT-I\",\"accountSectionHeader\":\"AccountInfo_accountSectionHeader__u8Du1\",\"accountSubSectionHeader\":\"AccountInfo_accountSubSectionHeader__rUWSb\",\"Link\":\"AccountInfo_Link__1OAI7\",\"poochInput\":\"AccountInfo_poochInput__1AR4z\",\"poochButton\":\"AccountInfo_poochButton__3soeJ\",\"stripeElementsInput\":\"AccountInfo_stripeElementsInput__21gKf\",\"StripeElement\":\"AccountInfo_StripeElement__1q-TZ\"};","import React, { useContext, useState } from 'react'\nimport { observer } from 'mobx-react'\nimport AccountStore from '../../stores/AccountStore'\nimport { poochInput } from '../../styles/AccountInfo.module.scss'\n\n/**\n * EditPassword observes the AccountStore\n * It should not change the state of AccountStore.\n * It should update the password of a user when they are logged in\n * So It may need to be aware of a session\n *\n */\n\nexport const EditPassword = observer(props => {\n  const store = useContext(AccountStore)\n  //console.log(props)\n\n  const [newPassword, setNewPassword] = useState('')\n  const [passwordConfirm, setPasswordConfirm] = useState('')\n  const [renderForm, setRenderForm] = useState(false)\n\n  const validateForm = () => {\n    return (\n      newPassword === passwordConfirm &&\n      newPassword.length !== 0 &&\n      passwordConfirm.length !== 0\n    )\n  }\n\n  const handleChange = event => {\n    if (event.target.id === 'editPassword') {\n      setNewPassword(event.target.value)\n    } else if (event.target.id === 'editPasswordConfirm') {\n      setPasswordConfirm(event.target.value)\n    } else if (event.target.id === 'changePassword') {\n      event.preventDefault()\n      setRenderForm(!renderForm)\n    }\n  }\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n    await store.setPassword(newPassword)\n    setRenderForm(false)\n    //window.location.hash = '/';\n  }\n\n  return (\n    <div>\n      {!renderForm && (\n        <button className=\"a11y\" onClick={handleChange} id=\"changePassword\">\n          {' '}\n          Change Password\n        </button>\n      )}\n      {renderForm && (\n        <div>\n          <div className=\"field\">\n            <p className=\"control\">\n              <input\n                className={'input ' + poochInput}\n                type=\"password\"\n                id=\"editPassword\"\n                placeholder=\"New Password\"\n                onChange={handleChange}\n              />\n            </p>\n          </div>\n          <div className=\"field\">\n            <p className=\"control\">\n              <input\n                className={'input ' + poochInput}\n                type=\"password\"\n                id=\"editPasswordConfirm\"\n                placeholder=\"Re-Enter Password\"\n                onChange={handleChange}\n              />\n            </p>\n            <div />\n          </div>\n          <div className=\"field is-grouped\">\n            <p className=\"control is-expanded\">\n              {/* eslint-disable-next-line */}\n              <button\n                href=\"#\"\n                className=\"button a11y\"\n                onClick={handleChange}\n                id=\"changePassword\"\n              >\n                Cancel\n              </button>\n            </p>\n            <p className=\"control\">\n              <button\n                className=\"button btn-orange\"\n                disabled={!validateForm()}\n                type=\"submit\"\n                onClick={handleSubmit}\n              >\n                Update Password\n              </button>\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n})\n"],"sourceRoot":""}